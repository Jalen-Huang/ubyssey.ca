{% extends 'ubyssey/base.html' %}
{% load static %}
{% load wagtailcore_tags %}
{% load wagtailimages_tags %}

{% block header %}
  {% include 'navigation/headers/main.html' %}
  {% include 'navigation/headers/mobile.html' with class='homepage' %}
{% endblock %}

{% block content %}
  <main class="u-container u-container--large homepage">
    {% comment %}
      breaking_news_article is passed through from context and it contains all of the breaking articles from each section
    {% endcomment %}
    {% for article in breaking_news_article%}      
      <a class="o-breaking-news" href={% pageurl article %}>
        <h3>BREAKING: {{ article.title|safe }}</h3>
      </a>
    {% endfor %}
    {% comment %}
      Additional fields/blocks will go here to alert students to some special events
    {% endcomment %}
    {% include 'home/objects/above_cut.html' with articles=above_cut_articles %}
    <div class="homepage-section row">
      <div class="sections" id="section_container">  
        
        {% include 'home/stream_blocks/section_news.html' with section="News" articles=News %}
        {% include 'home/stream_blocks/section_non_news.html' with section="Culture" articles=Culture %}
        {% include 'home/stream_blocks/section_non_news.html' with section="Sports" articles=Sports %}
        {% include 'home/stream_blocks/section_non_news.html' with section="Opinion" articles=Opinion %}
        {% include 'home/stream_blocks/section_non_news.html' with section="Features" articles=Features %}
        {% include 'home/stream_blocks/section_non_news.html' with section="Science" articles=Science %}
        
        
        
        {% comment %} 
         ** this part is commented out because We are not using lazyloading ** 

          This is where we put the contents of the main StreamField of section blocks 
          This StreamField consists of blocks that each show off the contents of some section.
          See the models.py of this app for implementation details
              
          Only the first section, "News", is not an ajax request so we can display it with the include_block template tag
       
            {% with self.sections_stream.0 as first_section %}
              TODO: Review this 
              {% include_block first_section  %}          
            {% endwith %}
        {% endcomment %}


      </div>

      <div class="sidebar-home">
        <div class=" sidebar-block">
          <h2 class="block-title">Check Out Our Digital Print Issue</h2>
          <div class='sidebar-issue'>
                  <h5 class="headline" id='issue-photo'><a class='issue' id ='issue1' href="https://issuu.com/ubyssey/docs/the_ubyssey_-_july_27_2021">July 27, 2021<img src="https://image.isu.pub/210727150151-561948f393e2776d2f61fe34036ec330/jpg/page_1_thumb_large.jpg"></a></h5>
                  <h5 class="headline"><a class='issue' id ='issue2' href="https://issuu.com/ubyssey/docs/june_29_2021">June 29, 2021 </a></h5>
                  <h5 class="headline"><a class='issue' id ='issue2' href="https://issuu.com/ubyssey/docs/the_ubyssey_-_may_26_2021">May 26, 2021 </a></h5>
                  <h5 class="headline"><a class='issue' id ='issue2' href="https://issuu.com/ubyssey/docs/the_ubyssey_april_7">April 7, 2021 - Year in Review </a></h5>
     
          </div>
        </div>
        <div class="article-list blog sidebar-block">
          <h2 class="block-title">From the blog</h2>
          <ul class="article-list">
            {% comment %}
              blog is passed through from context
            {% endcomment %}
            {% for article in blog %}
              <li>
                {% include 'article/objects/blog_column.html' with article=article padded=True   %}
              </li>
            {% endfor %}
          </ul>
        </div>
        <div class="multi-zone cell right">
          {% comment %} 
            This should probably be renamed, because "zones"
            were a mis-designed feature.

            In all likelihood, it will contain another set of blocks
          {% endcomment %}
        </div>
      </div>
    </div>
    <div class="loader-container">
      <div class="loader"></div>
    </div>
  </main>
{% endblock %}

{% block footer %}
  {% include 'navigation/footer.html' with homepage=True %}
{% endblock %}


{% comment %}

This javascript file is used for lazyloading if need 

{% block scripts %}
  <script src="{% static 'home/js/lazyloading.js' %}" type="text/javascript"></script>
{% endblock %}

{% endcomment %}
 
