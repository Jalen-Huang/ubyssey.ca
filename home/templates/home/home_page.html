{% extends 'ubyssey/base.html' %}
{% load static %}
{% load wagtailcore_tags %}
{% load wagtailimages_tags %}
{% load ubyssey_ad_tags %}

{% block head_scripts %}
  {% gpt_define_tag self.home_leaderboard_ad_slot.slug %}
  {% gpt_define_tag self.home_mobile_leaderboard_ad_slot.slug %}
{% endblock %}

{% block header %}
  {% include 'navigation/headers/main.html' %}
  {% include 'navigation/headers/mobile.html' with class='homepage' %}
{% endblock %}

{% block content %}
  {% gpt_placement_tag  self.home_leaderboard_ad_slot.slug %}
  {% gpt_placement_tag  self.home_mobile_leaderboard_ad_slot.slug %}
  <main class="u-container u-container--large homepage">
    {% comment %}
      breaking_news_article is passed through from context and it contains all of the breaking articles from each section
    {% endcomment %}
    {% for article in breaking_news_article %}      
      <a class="o-breaking-news" href={% pageurl article %}>
        <h3>BREAKING: {{ article.title|safe }}</h3>
      </a>
    {% endfor %}
    {% comment %}
      Additional fields/blocks will go here to alert students to some special events
    {% endcomment %}

    {% comment %}
      Display user-selected bocks that will be the first thing the user sees when going to the site, before scrolling down
      (hence, "above the cut")
    {% endcomment %}
    {% for block in self.above_cut_stream %}
      {% include_block block %}
    {% endfor %}

    {% comment %}
      Below-cut content
    {% endcomment%}
    <div class="homepage-section row">
      <div class="sections" >  
        {% for block in self.sections_stream %}
          {% include_block block %}
        {% endfor %}
      </div>

      <div class="sidebar-home">
        {% for block in self.sidebar_stream %}
          {% include_block block %}
        {% endfor %}
        <div class="multi-zone cell right">
          {% comment %} 
            This should probably be renamed, because "zones"
            were a mis-designed feature.

            In all likelihood, it will contain another set of blocks
          {% endcomment %}
        </div>
      </div>
    </div>
    <div class="loader-container">
      <div class="loader"></div>
    </div>
  </main>
{% endblock %}

{% block footer %}
  {% include 'navigation/footer.html' with homepage=True %}
{% endblock %}

 
